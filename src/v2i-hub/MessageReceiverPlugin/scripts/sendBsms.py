######## use this block to send message to V2X hub##################
####### The messages hit MessageReceiver Plugin first at port: 26789 ########
 
import socket
import binascii as ba
import time
 
udpip="127.0.0.1"
udpport=26789
 

sk = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)

# sample BSMs: select one for testing
txt="001480CF4B950C400022D2666E923D1EA6D4E28957BD55FFFFF001C758FD7E67D07F7FFF8000000002020218E1C1004A40196FBC042210115C030EF1408801021D4074CE7E1848101C5C0806E8E1A50101A84056EE8A1AB4102B840A9ADA21B9010259C08DEE1C1C560FFDDBFC070C0222210018BFCE309623120FFE9BFBB10C8238A0FFDC3F987114241610009BFB7113024780FFAC3F95F13A26800FED93FDD51202C5E0FE17BF9B31202FBAFFFEC87FC011650090019C70808440C83207873800000000001095084081C903447E31C12FC0"
 
while True:
    # Send BSM at 10 Hz
    unhexed = ba.unhexlify(txt)
    sk.sendto(unhexed,(udpip,udpport))
    time.sleep(0.1)  # Sleep for 100 ms to achieve 10 Hz rate
